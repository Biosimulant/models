schema_version: "2.0"
title: "Neuro: E/I Microcircuit"
description: "Balanced excitatory/inhibitory microcircuit with Poisson drive and monitors."
models:
  - repo: Biosimulant/models
    alias: poisson
    manifest_path: models/neuro-poisson-input/model.yaml
    parameters: { n: 40, rate_hz: 15.0, seed: 42 }
  - repo: Biosimulant/models
    alias: exc
    manifest_path: models/neuro-izhikevich-population/model.yaml
    parameters: { n: 40, preset: "RS", I_bias: 0.0, sample_indices: [0, 1, 2] }
  - repo: Biosimulant/models
    alias: inh
    manifest_path: models/neuro-izhikevich-population/model.yaml
    parameters: { n: 10, preset: "FS", I_bias: 0.0, sample_indices: [0] }
  - repo: Biosimulant/models
    alias: syn_ext_e
    manifest_path: models/neuro-exp-synapse-current/model.yaml
    parameters: { n_pre: 40, n_post: 40, p_connect: 0.1, weight: 1.0, tau: 0.005, seed: 42 }
  - repo: Biosimulant/models
    alias: syn_ee
    manifest_path: models/neuro-exp-synapse-current/model.yaml
    parameters: { n_pre: 40, n_post: 40, p_connect: 0.1, weight: 0.3, tau: 0.005, seed: 43 }
  - repo: Biosimulant/models
    alias: syn_ei
    manifest_path: models/neuro-exp-synapse-current/model.yaml
    parameters: { n_pre: 40, n_post: 10, p_connect: 0.1, weight: 0.5, tau: 0.005, seed: 44 }
  - repo: Biosimulant/models
    alias: syn_ie
    manifest_path: models/neuro-exp-synapse-current/model.yaml
    parameters: { n_pre: 10, n_post: 40, p_connect: 0.1, weight: -1.5, tau: 0.010, seed: 45 }
  - repo: Biosimulant/models
    alias: syn_ii
    manifest_path: models/neuro-exp-synapse-current/model.yaml
    parameters: { n_pre: 10, n_post: 10, p_connect: 0.1, weight: -0.5, tau: 0.010, seed: 46 }
  - repo: Biosimulant/models
    alias: spike_mon_e
    manifest_path: models/neuro-spike-monitor/model.yaml
    parameters: { max_neurons: 40, width: 600, height: 200 }
  - repo: Biosimulant/models
    alias: spike_mon_i
    manifest_path: models/neuro-spike-monitor/model.yaml
    parameters: { max_neurons: 10, width: 600, height: 100 }
  - repo: Biosimulant/models
    alias: rate_mon
    manifest_path: models/neuro-rate-monitor/model.yaml
    parameters: { window_size: 0.02, n_neurons: 50 }
  - repo: Biosimulant/models
    alias: state_mon
    manifest_path: models/neuro-state-monitor/model.yaml
    parameters: { max_points: 5000 }
  - repo: Biosimulant/models
    alias: metrics
    manifest_path: models/neuro-metrics/model.yaml
    parameters: { n_neurons: 50 }
runtime:
  duration: 0.3
  tick_dt: 0.0001
  initial_inputs: {}
wiring:
  - from: poisson.spikes
    to: [syn_ext_e.spikes]
  - from: syn_ext_e.current
    to: [exc.current]
  - from: exc.spikes
    to: [syn_ee.spikes, syn_ei.spikes, spike_mon_e.spikes, rate_mon.spikes, metrics.spikes]
  - from: exc.state
    to: [state_mon.state]
  - from: inh.spikes
    to: [syn_ie.spikes, syn_ii.spikes, spike_mon_i.spikes, rate_mon.spikes, metrics.spikes]
  - from: syn_ee.current
    to: [exc.current]
  - from: syn_ie.current
    to: [exc.current]
  - from: syn_ei.current
    to: [inh.current]
  - from: syn_ii.current
    to: [inh.current]

