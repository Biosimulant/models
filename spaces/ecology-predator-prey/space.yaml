schema_version: "2.0"
title: "Ecology: Predator-Prey"
description: "Classic predator-prey dynamics with environment broadcast and monitors."
models:
  - repo: Biosimulant/biomodels
    alias: environment
    manifest_path: models/ecology-environment/model.yaml
    parameters:
      temperature: 20.0
      water: 80.0
      food_availability: 1.0
      sunlight: 1.0
      seasonal_cycle: false
  - repo: Biosimulant/biomodels
    alias: rabbits
    manifest_path: models/ecology-organism-population/model.yaml
    parameters:
      name: "Rabbits"
      initial_count: 800
      birth_rate: 0.10
      death_rate: 0.02
      optimal_temp: 20.0
      temp_tolerance: 15.0
      carrying_capacity: 2000
      seed: 42
  - repo: Biosimulant/biomodels
    alias: foxes
    manifest_path: models/ecology-organism-population/model.yaml
    parameters:
      name: "Foxes"
      initial_count: 100
      birth_rate: 0.04
      death_rate: 0.02
      optimal_temp: 15.0
      temp_tolerance: 20.0
      food_efficiency: 0.8
      carrying_capacity: 300
      seed: 43
  - repo: Biosimulant/biomodels
    alias: predation
    manifest_path: models/ecology-predator-prey-interaction/model.yaml
    parameters: { predation_rate: 0.005, conversion_efficiency: 1.0, seed: 44 }
  - repo: Biosimulant/biomodels
    alias: pop_monitor
    manifest_path: models/ecology-population-monitor/model.yaml
    parameters: { max_points: 10000 }
  - repo: Biosimulant/biomodels
    alias: phase_space
    manifest_path: models/ecology-phase-space-monitor/model.yaml
    parameters: { x_species: "Rabbits", y_species: "Foxes", max_points: 5000 }
  - repo: Biosimulant/biomodels
    alias: metrics
    manifest_path: models/ecology-metrics/model.yaml
    parameters: {}
runtime:
  duration: 50.0
  tick_dt: 1.0
  initial_inputs: {}
wiring:
  - from: environment.conditions
    to: [rabbits.conditions, foxes.conditions]
  - from: rabbits.population_state
    to: [predation.prey_state, pop_monitor.population_state, phase_space.population_state, metrics.population_state]
  - from: foxes.population_state
    to: [predation.predator_state, pop_monitor.population_state, phase_space.population_state, metrics.population_state]
  - from: predation.predation
    to: [rabbits.predation]
  - from: predation.food_gained
    to: [foxes.food_gained]

